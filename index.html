<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Tabs with HTML, CSS & JS</h1>
    <div class="tabs">
        <div class="tabs__sidebar"> 
            <!-- CSS naming convention: BEM -->
            <button class="tabs__button" data-for-tab="1">Tab #1</button>
            <!-- html5 data-* -->
            <button class="tabs__button" data-for-tab="2">Tab #2</button>
            <button class="tabs__button" data-for-tab="3">Tab #3</button>
        </div>
        <div class="tabs__content" data-tab="1">
            <h2>Tab #1</h2>
            <p>
                "We found that African grey parrots voluntarily and spontaneously help familiar parrots to achieve a goal, 
                without obvious immediate benefit to themselves," says study co-author Désirée Brucks of the Max Planck Institute for Ornithology, 
                Germany.
            </p>
            <p>
                Parrots and crows are known for having large brains relative to the size of their bodies and problem-solving skills to match. 
                For that reason, they are sometimes considered to be "feathered apes," explain Brucks and study co-author Auguste von Bayern.
            </p>
        </div>
        <div class="tabs__content" data-tab="2">
            <h2>Tab #2</h2>
            <p>
                However, earlier studies showed that, despite their impressive social intelligence, 
                crows don't help other crows. In their new study, Brucks and von Bayern wondered: what about parrots?
            </p>
            <p>
                To find out, they enlisted several African grey parrots and blue-headed macaws. 
                Both parrot species were eager to trade tokens with an experimenter for a nut treat. But, their findings show, 
                only the African grey parrots were willing to transfer a token to a neighbor parrot, 
                allowing the other individual to earn a nut reward.
            </p>
        </div>
        <div class="tabs__content" data-tab="3">
            <h2>Tab #3</h2>
            <p>
                "Remarkably, African grey parrots were intrinsically motivated to help others, 
                even if the other individual was not their friend, so they behaved very 'prosocially,'" von Bayern says. 
            </p>
            <p>
                "It surprised us that 7 out of 8 African grey parrots provided their partner with tokens spontaneously -- in their 
                very first trial -- thus without having experienced the social setting of this task before and without knowing that 
                they would be tested in the other role later on.
            </p>
        </div>
    
    </div>



    <script>
        function setupTabs() {
            document.querySelectorAll(".tabs__button").forEach(button => { // JS ES6 arrow function
            //選中所有tabs__button的class並為每一項button添增click event listener
                button.addEventListener("click", () => {
                    const sideBar = button.parentElement; 
                    const tabsContainer = sideBar.parentElement;
                    const tabNumber = button.dataset.forTab;
                    const tabToActivate = tabsContainer.querySelector(`.tabs__content[data-tab="${tabNumber}"]`);
                    //在tabsContainer內選擇.tabs_content並有data-tab 第 tabNumber 項
                    
                    sideBar.querySelectorAll(".tabs__button").forEach(button => {
                        button.classList.remove("tabs__button--active");
                    });
                    tabsContainer.querySelectorAll(".tabs__content").forEach(tab => {
                        tab.classList.remove("tabs__content--active");
                    });

                    button.classList.add("tabs__button--active");
                    tabToActivate.classList.add("tabs__content--active");
                });
            });
        }

        document.addEventListener("DOMContentLoaded", () =>{
            setupTabs();
            
            document.querySelectorAll(".tabs").forEach(tabsContainer => {
                tabsContainer.querySelector(".tabs__sidebar .tabs__button").click();
            }); //當頁面讀取時 按一下tabs內每一個項目裡的.tabs__sidebar裡的.tabs__button
            //實現預設點選第一個項目
        });
    
    </script>
</body>
</html>